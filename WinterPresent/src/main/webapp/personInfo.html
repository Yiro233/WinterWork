<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="initial-scale=1,minimum-scale=1">
    <title>个人主页</title>
    <link rel="stylesheet" type="text/css" href="personInfo.css">
    <script language=javascript src='jquery-3.3.1.js'></script>
    <script src="fundset.js"></script>
    <script src="personInfo.js" type="text/javascript"></script>
</head>
<body class="FRAME_page B_page S_page">
    <div class="WB_miniblog">
            <div class="WB_miniblog_fb">
                <div id="plc_top">
                    <div class="WB_global_nav WB_global_nav_v2 UI_top_hidden">
                        <div class="gn_header clearfix">
                            <div class="gn_position">
                                <div class="gn_nav">
                                    <ul class="gn_nav_list">
                                        <li><a href="mainpage.html" nm="home" class="home S_txt1"><em class="W_ficon ficon_home S_ficon">E</em><em class="S_txt1">首页</em></a></li>
                                        <li><a href="personInfo.html" nm="name" class="gn_name"><em class="W_ficon ficon_user S_ficon">H</em><em class="S_txt1" id=top_name></em></a></li>
                                    </ul>
                                </div>
                                <div class="gn_set S_line1">
                                    <div class="gn_set_list">
                                        <a href="javascript:void(0);" onmouseover="showInfo('gn_topmenulist_set')" onmouseout="hideInfo('gn_topmenulist_set')"
                                            node-type="account" nm="account">
                                            <em class="W_ficon ficon_set S_ficon">*</em></a>
                                        <div class="gn_topmenulist gn_topmenulist_set" id="gn_topmenulist_set" onmouseover="showInfo('gn_topmenulist_set')"
                                            onmouseout="hideInfo('gn_topmenulist_set')" node-type="accountLayer" style="display:none">
                                            <ul>
                                                <li class="gn_func">
                                                    <a target="_top" suda-data="key=account_setup&value=quit" href="javascript:void(0);">
                                                        <form method="get" action="LogoutServlet">
                                                            <button type="submit" class="logoutBtn" style="border:none; width: 100%; height: 100%; background-color:transparent; outline:none; font-size:12px;">登出</button>
                                                        </form>
                                                    </a>
                                                </li>
                                            </ul>
                                            <div class="W_layer_arrow"><span class="W_arrow_bor W_arrow_bor_t"><i class="S_line3"></i><em
                                                        class="S_bg2_br"></em></span></div>
                                        </div>
                                    </div>
                                    <div class="gn_set_list">
                                        <a href="javascript:void(0);"><em class="W_ficon ficon_send S_ficon" title="发微博" onclick="writeWB()">ß</em></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="WB_main clearfix" id="plc_frame">
                    <div class="WB_frame">
                        <div class="WB_frame_a">
                            <div id="Pl_Official_Headerv6__1">
                                <div class="PCD_header">
                                    <div class="pf_wrap" layout-shell="false" node-type="cover_wrap">
                                        <div class="cover_wrap banner_transition" node-type="cover" style="background-image:url(http://www.miyamoto.top/cover.jpg)"
                                            cover-type="1">
                                        </div>
                                        <div class="shadow  S_shadow" layout-shell="false">
                                            <div class="pf_photo" node-type="photo">
                                                <p class="photo_wrap">
                                                    <a href="javascript:void(0);" title="更换头像" style="width:100px;height:100px;" onclick="uploadDisplay(1)">
                                                        <img src="" alt="" class="photo" id="headpic">
                                                    </a>
                                                </p>
                                            </div>
                                            <div class="pf_username">
                                                <a href="javascript:void(0);"  onclick="updateinfo(1)" style="color:#fff;"><h1 class="username" id="nickname">null</h1></a> 
                                                <span class="icon_bed"><a><i class="gender" id="user_gender"></i></a></span>
                                            </div>
                                            <div class="pf_intro">
                                                <a href="javascript:void(0);" onclick="updateinfo(1)"><span class="tlink" id="self_intro">null</span></a>  
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="plc_main">
                            <div class="WB_frame_b" fixed-box="true" fixed-random="false">
                                <div id="Pl_Core_T8CustomTriColumn__3" anchor="-50">
                                    <div class="WB_cardwrap S_bg2">
                                        <div class="PCD_counter">
                                            <div class="WB_innerwrap">
                                                <table class="tb_counter" cellpadding="0" cellspacing="0">
                                                    <tbody>
                                                        <tr>
                                                            <td class="S_line1">
                                                                <a bpfilter="page_frame" class="t_link S_txt1" onclick="showFollow()"><strong class="W_f18" id="follow">null</strong><span class="S_txt2">关注</span></a></td>
                                                            <td class="S_line1">
                                                                <a bpfilter="page_frame" class="t_link S_txt1"><strong class="W_f18" id="followed">null</strong><span class="S_txt2">粉丝</span></a></td>
                                                            <td class="S_line1">
                                                                <a bpfilter="page_frame" class="t_link S_txt1" onclick="loadInfo()"><strong class="W_f18" id="blog_num">null</strong><span class="S_txt2">微博</span></a></td>
                                                            <td class="S_line1">
                                                                <a bpfilter="page_frame" class="t_link S_txt1" onclick="loadCollect()"><strong class="W_f18" id="collect_num">null</strong><span class="S_txt2">收藏</span></a></td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="WB_frame_c" fixed-box="true" id="WB_frame_c">
                                <div id="Pl_Official_MyProfileFeed__20" anchor="-50">
                                    <div class="WB_feed WB_feed_v3 WB_feed_profile" id="WB_display">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="plc_bot">
                    <a class="W_gotop" id="base_scrollToTop" href="javascript:void(0);" style="visibility: hidden; transform: translateZ(0px); position: fixed; bottom: 40px; top: auto;"
                        onclick="gotop()"><em class="W_ficon ficon_backtop">Ú</em></a>
                </div>
            </div>
    </div>
    <div class="blur" id="WB_layer" style="display:none;">
        <div class="W_layer">
            <div tabindex="0"></div>
            <div class="content" node-type="autoHeight">
                <div node-type="title" class="W_layer_title" style="cursor: move;">今天有什么开心事？</div>
                <div class="W_layer_close"><a node-type="close" href="javascript:void(0);" class="W_ficon ficon_close S_ficon" onclick="layerDisplay(2)">X</a></div>
                <div node-type="inner">
                    <div node-type="inner">
                        <div class="detail" node-type="outer">
                            <div class="send_weibo clearfix send_weibo_long" node-type="wrap">
                                <div class="input ">
                                    <textarea id="sendWB_personInfo" style="margin: 0px; padding: 0px; border-style: none; border-width: 0px; font-size: 14px; overflow-wrap: break-word; line-height: 18px; overflow: hidden; outline: none; height: 68px; width: 100%;"></textarea>
                                    <div class="send_succpic" id="sendSuc_personInfo" style="display:none;"><span class="W_icon icon_succB"></span><span class="txt">发布成功</span></div>
                                </div>
                                <div class="func_area clearfix" layout-shell="true">
                                    <div class="func">
                                        <a href="javascript:void(0);" onclick="send(`personInfo`)" class="W_btn_a btn_30px" node-type="submit">发布</a>
                                    </div>
                                    <div class="kind" node-type="widget" style="position: relative;">
                                        <a class="S_txt1" href="javascript:void(0);" action-type="multiimage" action-data="type=508&action=1&log=image&cate=1"
                                            title="图片" suda-uatrack="key=tblog_new_image_upload&value=image_button" style="position: relative;" onclick="fileFunc('image_file_personInfo','personInfo')">
                                            <em class="W_ficon ficon_image">p</em>图片
                                            <div style="position: absolute; left: 0px; top: 0px; display: block; overflow: hidden; background-color: rgb(0, 0, 0); opacity: 0; width: 49px; height: 24px;">
                                                <input type="file" accept="image/jpg,image/jpeg,image/png,image/gif" hidefoucs="true" node-type="fileBtn" name="pic1"
                                                    style="cursor:pointer;width:1000px;height:1000px;position:absolute;bottom:0;right:0;font-size:200px;" id="image_file_personInfo"
                                                    multiple="multiple">
                                            </div>
                                        </a>
                                        <a class="S_txt1" href="javascript:void(0);" action-type="video" action-data="type=502&action=1&log=video&cate=1" title="视频"
                                            suda-uatrack="key=tblog_home_edit&value=video_button" style="position: relative;" onclick="fileFunc('video_file_personInfo','personInfo')">
                                            <em class="W_ficon ficon_video">q</em>视频<div style="position: absolute; left: 0px; top: 0px; display: block; overflow: hidden; background-color: rgb(0, 0, 0); opacity: 0; width: 49px; height: 24px;">
                                                <input type="file" name="video" hidefoucs="true" title="视频" accept=".mpg,.m4v,.mp4,.flv,.3gp,.mov,.avi,.rmvb,.mkv,.wmv"
                                                    style="cursor:pointer;width:1000px;height:1000px;position:absolute;bottom:0;right:0;font-size:200px;" id="video_file_personInfo">
                                            </div>
                                        </a>
                                        <div class="file_info" id="file_info_personInfo"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="blur" id="pic_large" style="display: none;">
        <div class="close"><button class="closeBtn_main" onclick="turnoff()">×</button></div>
        <img id="pic_view" height="85%">
    </div>
    <div class="blur" id="avatar_up" style="display: none;">
        <form action="AvatarUploadServlet" method="post" enctype="multipart/form-data"
            class="avatar_form">
            <div class="uploadtip">上传头像</div>
            <div class="close"><button class="closeBtn" type="button" onclick="uploadDisplay(2)">×</button></div>
            <div class="img_box">
                <input type="file" name="avatar" id="avatar" class="choose">
                <img src="" class="avatar_upload" id="avatar_upload" width="90%">
            </div>
            <div class="handle_bar">
                <button type="button" class="cancel" onclick="clearup()">取消</button>
                <button type="submit" name="Submit" class="up">上传</button>
            </div>
        </form>
    </div>
    <div class="changeInfo" id="changeInfo" style="display:none;">
        <div class="place_op">
            <button class="closeUpdate" id="closeUpdate" onclick="updateinfo(2)">×</button>
        </div>
        <form action="UpdateInfoServlet" method="POST">
            <div class="new_nickname_box">
                <input type="text" name="nickname" class="new_nickname" placeholder="昵称">
            </div>
            <div class="new_intro_box">
                <textarea name="self_intro" class="new_self_intro" id="new_self_intro" cols="30" rows="10" placeholder="个人简介"></textarea>
            </div>
            <div class="update">
                <button type="submit" class="updateBtn" id="updateBtn">提交</button>
            </div>
        </form>
    </div>
    <form name="sendWBForm" id="sendWBForm" style="display: none;" enctype="multipart/form-data">
        <input type="text" name="pid" id="pid">
        <input type="text" name="content" id="content">
        <input type="file" name="picture" id="picture">
        <input type="file" name="video" id="video">
    </form>
    <script type="text/javascript">
        $("#avatar").change(function () {
            var objUrl = getObjectURL(this.files[0]);
            if (objUrl) {
                $("#avatar_upload").attr("src", objUrl);
                $('#avatar').attr("style", "display:none");
            }
        });
        function getObjectURL(file) {
            var url = null;
            if (window.createObjectURL != undefined) {
                url = window.createObjectURL(file);
            } else if (window.URL != undefined) {
                url = window.URL.createObjectURL(file);
            } else if (window.webkitURL != undefined) {
                url = window.webkitURL.createObjectURL(file);
            }
            return url;
        }
        function clearup() {
            document.getElementById("avatar").value = "";
            document.getElementById("avatar_upload").src = "";
            $('#avatar').attr("style", "display:block;");
        }
        function uploadDisplay(id) {
            if (id==1) $('#avatar_up').attr("style", "display:block;");
            else $('#avatar_up').attr("style", "display:none;");
        }
        function updateinfo(id) {
            if (id==1) $(`#changeInfo`).attr("style","display:block;");
            else $(`#changeInfo`).attr("style", "display:none;");
        }
    </script>
</body>
</html>